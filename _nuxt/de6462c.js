(window.webpackJsonp=window.webpackJsonp||[]).push([[35,7],{586:function(t,e,r){"use strict";r.r(e);r(90);var n=r(28),o=r(42),c=r(47),l=r(45),f=r(32),v=r(17),d=(r(14),r(91));function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var y=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},m=function(t){Object(c.a)(r,t);var e=h(r);function r(){var t;return Object(n.a)(this,r),(t=e.apply(this,arguments)).baseUrl="https://hi-ut.github.io/kuzushiji-portal",t}return Object(o.a)(r,[{key:"copyLink",value:function(){var t=this.url;document.addEventListener("copy",(function e(r){r.clipboardData.setData("text/plain",t),r.preventDefault(),document.removeEventListener("copy",e)})),document.execCommand("copy")}},{key:"twitterUrl",get:function(){return"https://twitter.com/intent/tweet?url="+this.url+"&text="+this.title}},{key:"facebookUrl",get:function(){return"https://www.facebook.com/sharer/sharer.php?u="+this.url}},{key:"pocketUrl",get:function(){return"http://getpocket.com/edit?url="+this.url}}]),r}(d.Vue);y([Object(d.Prop)({required:!0})],m.prototype,"url",void 0),y([Object(d.Prop)({required:!0})],m.prototype,"title",void 0);var _=m=y([d.Component],m),j=r(97),O=r(111),k=r.n(O),R=r(246),C=r(224),w=r(226),x=r(595),component=Object(j.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{attrs:{flat:""}},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"ma-2",attrs:{icon:"",target:"_blank",href:t.twitterUrl}},n),[r("v-icon",[t._v("mdi-twitter")])],1)]}}])},[t._v(" "),r("span",[t._v(t._s("Twitter"))])]),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"ma-2",attrs:{icon:"",target:"_blank",href:t.facebookUrl}},n),[r("v-icon",[t._v("mdi-facebook")])],1)]}}])},[t._v(" "),r("span",[t._v(t._s("Facebook"))])]),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"ma-2",attrs:{icon:"",target:"_blank",href:t.pocketUrl}},n),[r("img",{staticStyle:{"font-size":"24px"},attrs:{src:t.baseUrl+"/img/icons/pocket.svg"}})])]}}])},[t._v(" "),r("span",[t._v(t._s("Pocket"))])])],1)}),[],!1,null,null,null);e.default=component.exports;k()(component,{VBtn:R.a,VCard:C.a,VIcon:w.a,VTooltip:x.a})},587:function(t,e,r){"use strict";r.r(e);r(90);var n=r(28),o=r(42),c=r(47),l=r(45),f=r(32),v=r(17),d=(r(14),r(91)),h=r(586);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var m=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},_=function(t){Object(c.a)(r,t);var e=y(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"title",get:function(){return this.item.label}},{key:"url",get:function(){return this.item.url}}]),r}(d.Vue);m([Object(d.Prop)()],_.prototype,"item",void 0);var j=_=m([Object(d.Component)({components:{ShareButtons:h.default}})],_),O=r(97),k=r(111),R=r.n(k),C=r(246),w=r(226),x=r(563),component=Object(O.a)(j,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({attrs:{color:"primary",depressed:"",icon:""}},n),[r("v-icon",[t._v("mdi-share-variant")])],1)]}}])},[t._v(" "),r("ShareButtons",{attrs:{url:t.url,title:t.title}})],1)}),[],!1,null,null,null);e.default=component.exports;R()(component,{VBtn:C.a,VIcon:w.a,VMenu:x.a})},600:function(t,e,r){"use strict";r.r(e);r(90);var n=r(28),o=r(42),c=r(47),l=r(45),f=r(32),v=r(17),d=(r(14),r(91));function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var y=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},m=r(610).a.Bar,_=function(t){Object(c.a)(r,t);var e=h(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"watchTmp",value:function(){this.main()}},{key:"mounted",value:function(){this.main()}},{key:"main",value:function(){var t={labels:this.labels,datasets:this.datasets};this.renderChart(t,{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,stepSize:1}}]}})}}]),r}(Object(d.mixins)(m));y([Object(d.Prop)({default:[]})],_.prototype,"labels",void 0),y([Object(d.Prop)({default:[]})],_.prototype,"datasets",void 0),y([Object(d.Watch)("datasets",{deep:!0})],_.prototype,"watchTmp",null);var j=_=y([d.Component],_),O=r(97),component=Object(O.a)(j,undefined,undefined,!1,null,null,null);e.default=component.exports},707:function(t,e,r){"use strict";r.r(e);r(90),r(43),r(22),r(29),r(48),r(37),r(9),r(51),r(54),r(40);var n=r(24),o=r(28),c=r(42),l=r(47),f=r(45),v=r(32),d=r(17),h=(r(78),r(14),r(56),r(10),r(33),r(38),r(60),r(91)),y=r(124),m=r.n(y),_=r(587);function j(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(v.a)(t);if(e){var o=Object(v.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var R=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},C=function(t){Object(l.a)(f,t);var e,r=k(f);function f(){var t;return Object(o.a)(this,f),(t=r.apply(this,arguments)).id=t.$route.params.id,t.title="「"+t.id+"」くずし字データセット",t.baseUrl="https://hi-ut.github.io/kuzushiji-portal",t.url=t.baseUrl+"/unicode/"+t.id,t.thres=12,t.items=[],t.bh=[{text:t.$t("top"),disabled:!1,to:t.localePath({name:"index"}),exact:!0},{disabled:!1,to:t.localePath({name:"unicode"}),text:"文字種一覧",exact:!0},{text:t.id}],t.total=0,t.map={},t.filter="",t.queryId="",t.res=[],t.labels=[],t.datasets=[],t.jsonUrl="",t}return Object(c.a)(f,[{key:"head",value:function(){return{title:this.title}}},{key:"myText",get:function(){var t="東京大学史料編纂所版史的文字横断検索ポータル",footer="東京大学史料編纂所";if("en"===this.$i18n.locale){var e=this.$t(t)+" - "+this.$t(footer);return'"'.concat(this.title,'" ').concat(e," (").concat(this.url,")")}return"『".concat(this.title,"』").concat("東京大学史料編纂所版史的文字横断検索ポータル - 東京大学史料編纂所"," (").concat(this.url,")")}},{key:"created",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(){var e,r,data,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.baseUrl+"/api/unicode/"+this.id+".json",this.jsonUrl=e,t.next=4,m.a.get(e);case 4:r=t.sent,data=r.data,this.res=data,n=this.$route.query.id,this.queryId=n,this.main();case 10:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"init",value:function(){this.queryId="",this.main()}},{key:"main",value:function(){var t,map={},data=this.res,e=(this.queryId,j(data));try{for(e.s();!(t=e.n()).done;){var r=t.value,n=(r.source,r.creator.split("@")[0]);map[n]||(map[n]={label:n,list:[],size:0,delegate:0}),map[n].size+=1;var o=""+r.delegate;if("1"===o||"true"===o||"東京大学史料編纂所"===n){var c=map[n].list;if(map[n].delegate+=1,c.length>=this.thres)continue;c.push({id:r.identifier,image:r.thumbnail_url,manifest:r.manifest_url})}}}catch(t){e.e(t)}finally{e.f()}var l=[],f=[];for(var v in map)l.push(v),f.push(map[v].size);this.labels=l,this.datasets=[{data:f,label:"文字"}],this.map=map}}]),f}(h.Vue),w=C=R([Object(h.Component)({components:{ResultOption:_.default}})],C),x=r(97),V=r(111),S=r.n(V),P=r(596),B=r(246),U=r(224),I=r(182),$=r(615),T=r(597),A=r(575),D=r(226),z=r(178),E=r(563),L=r(598),J=r(71),M=r(576),F=r(595),component=Object(x.a)(w,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-sheet",{attrs:{color:"grey lighten-2"}},[r("v-container",{staticClass:"py-4",attrs:{fluid:""}},[r("v-breadcrumbs",{staticClass:"py-0",attrs:{items:t.bh},scopedSlots:t._u([{key:"divider",fn:function(){return[r("v-icon",[t._v("mdi-chevron-right")])]},proxy:!0}])})],1)],1),t._v(" "),r("v-container",{staticClass:"my-5"},[r("h2",{staticClass:"mb-5"},[t._v(t._s(t.title))]),t._v(" "),r("div",{staticClass:"text-center"},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"ma-1",attrs:{icon:"",target:"_blank",href:t.jsonUrl}},n),[r("img",{attrs:{src:t.baseUrl+"/img/icons/json-logo.svg",width:"24px"}})])]}}])},[t._v(" "),r("span",[t._v(t._s("JSON"))])]),t._v(" "),r("span",{staticClass:"mx-2"}),t._v(" "),r("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"ma-1",attrs:{color:"primary",depressed:"",icon:""}},n),[r("v-icon",[t._v("mdi-comment-quote-outline")])],1)]}}])},[t._v(" "),r("v-card",{attrs:{flat:"",width:"400px"}},[r("div",{staticClass:"pt-4 px-4"},[r("h4",{staticClass:"mb-2"},[t._v(t._s(t.$t("citation")))]),t._v(" "),r("p",[t._v(t._s(t.myText))])]),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{rounded:"",color:"primary"},on:{click:function(e){return t.writeToClipboard()}}},[t._v("\n              "+t._s(t.$t("citation_copy"))+"\n            ")])],1)],1)],1),t._v(" "),r("ResultOption",{staticClass:"ma-1",attrs:{item:{label:t.title,url:t.url}}})],1),t._v(" "),r("p",{staticClass:"mt-10"},[t._v("\n      DelegateがTrueの文字について、上位最大 "+t._s(t.thres)+" 件を表示します。\n    ")]),t._v(" "),t.filter&&t.queryId?r("div",{staticClass:"mt-10"},[r("v-chip",{attrs:{label:"",color:"primary",close:""},on:{click:function(e){return t.init()}}},[t._v("フィルタ: "+t._s(t.filter))])],1):t._e(),t._v(" "),t._l(t.map,(function(e,n){return r("div",{key:n,staticClass:"my-10",attrs:{id:n}},[r("h3",{staticClass:"mt-10 mb-5"},[t._v("\n        "+t._s(e.label)+"（Delegate:\n        "+t._s(e.delegate.toLocaleString())+"／Total:\n        "+t._s(e.size.toLocaleString())+"）\n      ")]),t._v(" "),r("v-row",{attrs:{dense:""}},t._l(e.list,(function(t,e){return r("v-col",{key:e,attrs:{cols:"3",md:"1"}},[r("a",{attrs:{href:"https://clioapi.hi.u-tokyo.ac.jp/mirador/?manifest="+t.manifest,target:"_blank"}},[r("v-img",{staticClass:"grey",staticStyle:{height:"150px"},attrs:{"max-height":"150",contain:"",src:t.image}})],1)])})),1)],1)})),t._v(" "),r("BarChart",{staticClass:"pt-10 my-10",attrs:{labels:t.labels,datasets:t.datasets}})],2)],1)}),[],!1,null,null,null);e.default=component.exports;S()(component,{BarChart:r(600).default}),S()(component,{VBreadcrumbs:P.a,VBtn:B.a,VCard:U.a,VCardActions:I.a,VChip:$.a,VCol:T.a,VContainer:A.a,VIcon:D.a,VImg:z.a,VMenu:E.a,VRow:L.a,VSheet:J.a,VSpacer:M.a,VTooltip:F.a})}}]);